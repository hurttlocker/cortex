{
  "name": "ci-gate-retrieval",
  "description": "Deterministic CI retrieval quality gate over fixture corpus.",
  "noise_markers": [
    "(untrusted metadata)",
    "[queued messages while agent was busy]",
    "HEARTBEAT_OK",
    "Fire the test"
  ],
  "queries": [
    {
      "query": "OpenClaw gateway restart command",
      "limit": 5,
      "max_noisy_top3": 0,
      "k": 1,
      "expected_contains_any": ["openclaw", "gateway", "restart"],
      "min_precision_at_k": 1.0,
      "min_hits": 1
    },
    {
      "query": "trading analysis pipeline",
      "limit": 5,
      "max_noisy_top3": 0,
      "k": 1,
      "expected_contains_any": ["trading", "pipeline"],
      "min_precision_at_k": 1.0,
      "min_hits": 1
    },
    {
      "query": "ORB Opening Range Breakout",
      "limit": 5,
      "max_noisy_top3": 0,
      "k": 1,
      "expected_contains_any": ["opening range breakout", "orb"],
      "min_precision_at_k": 1.0,
      "min_hits": 1
    },
    {
      "query": "Q prefers Sonnet for coding tasks",
      "limit": 5,
      "max_noisy_top3": 0,
      "k": 1,
      "expected_contains_any": ["sonnet", "coding"],
      "min_precision_at_k": 1.0,
      "min_hits": 1
    },
    {
      "query": "Spear customer ops automation",
      "limit": 5,
      "max_noisy_top3": 0,
      "k": 1,
      "expected_contains_any": ["spear", "customer", "ops"],
      "min_precision_at_k": 1.0,
      "min_hits": 1
    },
    {
      "query": "fire the test",
      "limit": 5,
      "max_noisy_top3": 1,
      "k": 1,
      "expected_contains_any": ["fire the test"],
      "min_precision_at_k": 1.0,
      "min_hits": 1
    },
    {
      "query": "HEARTBEAT_OK",
      "limit": 5,
      "max_noisy_top3": 1,
      "k": 1,
      "expected_contains_any": ["heartbeat_ok"],
      "min_precision_at_k": 1.0,
      "min_hits": 1
    }
  ]
}
